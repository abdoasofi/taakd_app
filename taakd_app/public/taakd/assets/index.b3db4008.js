var L=(t,r,s)=>new Promise((o,e)=>{var n=c=>{try{l(s.next(c))}catch(d){e(d)}},a=c=>{try{l(s.throw(c))}catch(d){e(d)}},l=c=>c.done?o(c.value):Promise.resolve(c.value).then(n,a);l((s=s.apply(t,r)).next())});import{c as f,r as h,a as v,b as y,d as R,e as O,f as A,g as j,o as V,h as w,i as D,j as k,k as T,s as b,l as N,_ as q,C,I as U,m as $}from"./vendor.1aaec15d.js";const B=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};B();const F="modulepreload",S={},H="/assets/taakd_app/taakd/",i=function(r,s){return!s||s.length===0?r():Promise.all(s.map(o=>{if(o=`${H}${o}`,o in S)return;S[o]=!0;const e=o.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${n}`))return;const a=document.createElement("link");if(a.rel=e?"stylesheet":F,e||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),e)return new Promise((l,c)=>{a.addEventListener("load",l),a.addEventListener("error",c)})})).then(()=>r())},g=f({url:"frappe.auth.get_logged_user",cache:"User",onError(t){t&&t.exc_type==="AuthenticationError"&&_.push({name:"LoginPage"})}});function E(){let r=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return r==="Guest"&&(r=null),r}const I=h(!1),P=h(""),p=v({user:E(),isLoggedIn:y(()=>!!p.user),login:f({url:"login",makeParams({email:t,password:r}){return{usr:t,pwd:r}},onSuccess(t){g.reload(),p.user=E(),p.login.reset(),J(p.user)},onError(t){console.error("\u0641\u0634\u0644 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",t)}}),logout:f({url:"logout",onSuccess(){g.reset(),p.user=E(),_.replace({name:"Login"})}})});function J(t){const r=h(t),s=R({type:"list",doctype:"User",filters:{name:r.value},fields:["create_new_password","full_name"],auto:!0,onSuccess(){const o=s.data[0];o&&(P.value=o.full_name,I.value=o.create_new_password===0,x(I.value))}})}function x(t){t?_.replace({name:"reset",query:{fullName:P.value}}):_.replace("/home")}const W=[{path:"/",name:"Home",component:()=>i(()=>import("./Home.43a942df.js"),["assets/Home.43a942df.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css"])},{name:"Login",path:"/account/login",component:()=>i(()=>import("./Login.a2a4146c.js"),["assets/Login.a2a4146c.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css"])},{name:"Step_1",path:"/Step_1",component:()=>i(()=>import("./Step_1.d51649f6.js"),["assets/Step_1.d51649f6.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css"])},{name:"Step_2",path:"/Step_2",component:()=>i(()=>import("./Step_2.ed49551c.js"),["assets/Step_2.ed49551c.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/useAddressLogic.ac071cda.js"])},{name:"Step_3",path:"/Step_3",component:()=>i(()=>import("./Step_3.a9f4f521.js"),["assets/Step_3.a9f4f521.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/index.408ed4ba.js","assets/button.3122b5b4.js","assets/button.01fbf1e4.css","assets/select.vue_vue_type_style_index_0_scoped_true_lang.cfa49241.js","assets/select.vue_vue_type_style_index_0_scoped_true_lang.bfacb5a9.css","assets/autocomp.7a0b5387.js","assets/autocomp.90c59fb0.css","assets/useAddressLogic.ac071cda.js"])},{name:"Step_4",path:"/Step_4",component:()=>i(()=>import("./Step_4.a79254ef.js"),["assets/Step_4.a79254ef.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css"])},{name:"Step_5",path:"/Step_5",component:()=>i(()=>import("./Step_5.ae76ea3b.js"),["assets/Step_5.ae76ea3b.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css"])},{name:"Step_6",path:"/Step_6",component:()=>i(()=>import("./Step_6.a5dbab06.js"),["assets/Step_6.a5dbab06.js","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css"])},{name:"reset",path:"/reset",component:()=>i(()=>import("./reset.4e00d88a.js"),["assets/reset.4e00d88a.js","assets/reset.9bee08b8.css","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/baseLayout.1e35d91b.js","assets/baseLayout.8c0111eb.css","assets/request.2b065dce.js","assets/request.32a20136.css","assets/button.3122b5b4.js","assets/button.01fbf1e4.css"])},{name:"home",path:"/home",component:()=>i(()=>import("./home.de08439b.js"),["assets/home.de08439b.js","assets/home.21da32ef.css","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/baseLayout.1e35d91b.js","assets/baseLayout.8c0111eb.css","assets/request.2b065dce.js","assets/request.32a20136.css","assets/button.3122b5b4.js","assets/button.01fbf1e4.css","assets/autocomp.7a0b5387.js","assets/autocomp.90c59fb0.css","assets/snackBar.9bfb35a3.js","assets/snackBar.fd79de43.css","assets/useAddressLogic.ac071cda.js"])},{name:"steps",path:"/steps",component:()=>i(()=>import("./steps.5f651198.js"),["assets/steps.5f651198.js","assets/steps.2a4fb792.css","assets/button.3122b5b4.js","assets/button.01fbf1e4.css","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/request.2b065dce.js","assets/request.32a20136.css","assets/select.vue_vue_type_style_index_0_scoped_true_lang.cfa49241.js","assets/select.vue_vue_type_style_index_0_scoped_true_lang.bfacb5a9.css","assets/autocomp.7a0b5387.js","assets/autocomp.90c59fb0.css","assets/index.408ed4ba.js","assets/useAddressLogic.ac071cda.js","assets/snackBar.9bfb35a3.js","assets/snackBar.fd79de43.css"])},{name:"test",path:"/test",component:()=>i(()=>import("./VerificationInstructionsRequest.4b10d727.js"),["assets/VerificationInstructionsRequest.4b10d727.js","assets/VerificationInstructionsRequest.34756681.css","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/useAddressLogic.ac071cda.js","assets/index.408ed4ba.js"])},{name:"step3test",path:"/step3test",component:()=>i(()=>import("./step3test.e34186b6.js"),["assets/step3test.e34186b6.js","assets/step3test.0f7fd9ee.css","assets/vendor.1aaec15d.js","assets/vendor.5ffa469f.css","assets/useAddressLogic.ac071cda.js","assets/index.408ed4ba.js"])}];let _=O({history:A("/taakd"),routes:W});_.beforeEach((t,r,s)=>L(void 0,null,function*(){let o=p.isLoggedIn;try{yield g.promise}catch(e){o=!1}t.name==="Login"&&o?s({name:"Home"}):t.name!=="Login"&&!o?s({name:"Login"}):s()}));const G={class:""},K={__name:"App",setup(t){return(r,s)=>{const o=j("router-view");return V(),w("div",G,[D("div",null,[k(o)])])}}};let u=T(K),m=localStorage.getItem("reques");if(m)m=JSON.parse(m);else{const t=JSON.stringify({items:[]});localStorage.setItem("reques",t),m={items:[]}}const z=v(m);u.provide("reques",z);b("resourceFetcher",$);u.use(_);u.use(N);u.component("Button",q);u.component("Card",C);u.component("Input",U);u.mount("#app");export{_ as r,p as s};
